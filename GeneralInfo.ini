[Rainmeter]
Update              = 10000
DynamicWindowSize   = 1
AccurateText        = 1
Logging 			= 1
UpdateDivider       = -1
; OnRefreshAction     = [!CommandMeasure MeasureDelugeInput Update()]

@includeSettings = settings.ini

[luaScript]
Measure       = Script
ScriptFile    = script.lua


[MeasureDelugeInput]
Measure        = Plugin
Plugin         = RunCommand
State          = Hide
; UpdateDivider  = #CheckDelugeRate#
; OutputType     = ANSI
OutputFile     = out.txt
; Parameter      = "G:\Program Files (x86)\Deluge\deluge-console.exe" connect #DaemonAdress#; info
Parameter      = TYPE "C:\Users\tainp\Documents\Rainmeter\Skins\Deluge-Rainmeter-Skin dev\in2.txt"
FinishAction   = [!Log "updating deluge!"][!CommandMeasure luaScript "Update()"]
; FinishAction   = [!Log "updating deluge!"][!CommandMeasure luaScript "getGeneralInfo()"][!updateMeter *]
	; FinishAction   = [!Log "updating deluge!"][!CommandMeasure luaScript "getGeneralInfo()"][!updateMeter *][!CommandMeasure MeasureRunDeluge "Kill"]
OnUpdateAction = [!CommandMeasure MeasureDelugeInput "Run"]

; Title Meters
[MeterSpeedTitle]
Meter      = String
MeterStyle = TitleTextStyle
Y          = 30
Text       = "Upload / Download:"

[MeterTotalCount]
Meter      = String
MeterStyle = TitleTextStyle
Hidden     = (#ShowTotalCount# = 0)
Y          = R
Text       = "Torrents:"

[MeterTotalUpCount]
Meter      = String
MeterStyle = TitleTextStyle
Hidden     = (#ShowTotalUploadCount# = 0)
Y          = R
Text       = "Torrents Uploading:"

[MeterTotalDownCount]
Meter      = String
MeterStyle = TitleTextStyle
Hidden     = (#ShowTotalDownloadCount# = 0)
Y          = R
Text       = "Torrents Downloading:"

;pause / resume all button
[MeterToggleStatus]
Meter             = String
MeterStyle        = ValueTextStyle
X                 = ([MeterSpeedVal:W] + 300)
Y                 = ([MeterSpeedVal:Y] - [MeterSpeedVal:H])
LeftMouseUpAction = [!CommandMeasure "luaScript" "playPauseAll()"]

;number values
[MeterSpeedVal]
Meter         = String
MeterStyle    = ValueTextStyle
X             =([MeterSpeedVal:W] + 300)
Y             = ([MeterSpeedTitle:Y] + [MeterSpeedTitle:H] - [MeterSpeedVal:H])
Text          = "--.- --- / --.- ---"

[MeterTotalCountVal]
Meter         = String
MeterStyle    = ValueTextStyle
Hidden        = (#ShowTotalCount# = 0)
X             = r
Y             = ([MeterTotalCount:Y] + [MeterTotalCount:H] - [MeterTotalCountVal:H])
Text          = "--"

[MeterTotalUpCountVal]
Meter         = String
MeterStyle    = ValueTextStyle
Hidden        = (#ShowTotalUploadCount# = 0)
X             = r
Y             = ([MeterTotalUpCount:Y] + [MeterTotalUpCount:H] - [MeterTotalUpCountVal:H])
Text          = "--"

[MeterTotalDownCountVal]
Meter         = String
MeterStyle    = ValueTextStyle
Hidden        = (#ShowTotalDownloadCount# = 0)
X             = r
Y             = ([MeterTotalDownCount:Y] + [MeterTotalDownCount:H] - [MeterTotalDownCountVal:H])
Text          = "--"